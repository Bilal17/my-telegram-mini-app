{"ast":null,"code":"import React,{useEffect,useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function TelegramMiniApp(){const[user,setUser]=useState(null);const[status,setStatus]=useState('');useEffect(()=>{const tg=window.Telegram.WebApp;// Expand the app to full height\ntg.expand();// Get user info from Telegram\nconst initDataUnsafe=tg.initDataUnsafe;const user=initDataUnsafe===null||initDataUnsafe===void 0?void 0:initDataUnsafe.user;setUser(user);return()=>{// Close app or other cleanup if needed\n};},[]);const sendData=()=>{// Example action: Send data back to Telegram\nwindow.Telegram.WebApp.sendData(\"Sample Data Sent\");};const closeApp=()=>{// Closes the mini app\nwindow.Telegram.WebApp.close();};return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'20px',textAlign:'center'},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Welcome to Telegram Mini App\"}),user?/*#__PURE__*/_jsxs(\"p\",{children:[\"Hello, \",user.first_name,\" \",user.last_name||'',\"!\"]}):/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"}),/*#__PURE__*/_jsx(\"button\",{onClick:sendData,children:\"Send Data to Telegram\"}),/*#__PURE__*/_jsx(\"button\",{onClick:closeApp,children:\"Close App\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Status: \",status]})]});}export default TelegramMiniApp;","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","TelegramMiniApp","user","setUser","status","setStatus","tg","window","Telegram","WebApp","expand","initDataUnsafe","sendData","closeApp","close","style","padding","textAlign","children","first_name","last_name","onClick"],"sources":["/Users/lc/Desktop/telegram/src/components/TelegramMiniApp.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\n\nfunction TelegramMiniApp() {\n  const [user, setUser] = useState(null);\n  const [status, setStatus] = useState('');\n\n  useEffect(() => {\n    const tg = window.Telegram.WebApp;\n\n    // Expand the app to full height\n    tg.expand();\n\n    // Get user info from Telegram\n    const initDataUnsafe = tg.initDataUnsafe;\n    const user = initDataUnsafe?.user;\n    setUser(user);\n\n    return () => {\n      // Close app or other cleanup if needed\n    };\n  }, []);\n\n  const sendData = () => {\n    // Example action: Send data back to Telegram\n    window.Telegram.WebApp.sendData(\"Sample Data Sent\");\n  };\n\n  const closeApp = () => {\n    // Closes the mini app\n    window.Telegram.WebApp.close();\n  };\n\n  return (\n    <div style={{ padding: '20px', textAlign: 'center' }}>\n      <h1>Welcome to Telegram Mini App</h1>\n      {user ? (\n        <p>\n          Hello, {user.first_name} {user.last_name || ''}!\n        </p>\n      ) : (\n        <p>Loading...</p>\n      )}\n      <button onClick={sendData}>Send Data to Telegram</button>\n      <button onClick={closeApp}>Close App</button>\n      <p>Status: {status}</p>\n    </div>\n  );\n}\n\nexport default TelegramMiniApp;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEnD,QAAS,CAAAC,eAAeA,CAAA,CAAG,CACzB,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGP,QAAQ,CAAC,IAAI,CAAC,CACtC,KAAM,CAACQ,MAAM,CAAEC,SAAS,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CAExCD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAW,EAAE,CAAGC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAEjC;AACAH,EAAE,CAACI,MAAM,CAAC,CAAC,CAEX;AACA,KAAM,CAAAC,cAAc,CAAGL,EAAE,CAACK,cAAc,CACxC,KAAM,CAAAT,IAAI,CAAGS,cAAc,SAAdA,cAAc,iBAAdA,cAAc,CAAET,IAAI,CACjCC,OAAO,CAACD,IAAI,CAAC,CAEb,MAAO,IAAM,CACX;AAAA,CACD,CACH,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAU,QAAQ,CAAGA,CAAA,GAAM,CACrB;AACAL,MAAM,CAACC,QAAQ,CAACC,MAAM,CAACG,QAAQ,CAAC,kBAAkB,CAAC,CACrD,CAAC,CAED,KAAM,CAAAC,QAAQ,CAAGA,CAAA,GAAM,CACrB;AACAN,MAAM,CAACC,QAAQ,CAACC,MAAM,CAACK,KAAK,CAAC,CAAC,CAChC,CAAC,CAED,mBACEd,KAAA,QAAKe,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAEC,SAAS,CAAE,QAAS,CAAE,CAAAC,QAAA,eACnDpB,IAAA,OAAAoB,QAAA,CAAI,8BAA4B,CAAI,CAAC,CACpChB,IAAI,cACHF,KAAA,MAAAkB,QAAA,EAAG,SACM,CAAChB,IAAI,CAACiB,UAAU,CAAC,GAAC,CAACjB,IAAI,CAACkB,SAAS,EAAI,EAAE,CAAC,GACjD,EAAG,CAAC,cAEJtB,IAAA,MAAAoB,QAAA,CAAG,YAAU,CAAG,CACjB,cACDpB,IAAA,WAAQuB,OAAO,CAAET,QAAS,CAAAM,QAAA,CAAC,uBAAqB,CAAQ,CAAC,cACzDpB,IAAA,WAAQuB,OAAO,CAAER,QAAS,CAAAK,QAAA,CAAC,WAAS,CAAQ,CAAC,cAC7ClB,KAAA,MAAAkB,QAAA,EAAG,UAAQ,CAACd,MAAM,EAAI,CAAC,EACpB,CAAC,CAEV,CAEA,cAAe,CAAAH,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}